<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
             x:Class="MarketingAppHJ.Cliente.Views.Aplicacion.CambioDatosPage.CambioDatosPage"  
             xmlns:vm="clr-namespace:MarketingAppHJ.Cliente.ViewModels.CambioDatosPageViewModel"  
             x:DataType="vm:CambioDatosPageViewModel"  
             BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundColorLight}, Dark={StaticResource BackgroundColorDark}}"  
             Shell.NavBarIsVisible="True"  
             Title="CambioDatosPage">  

  <ScrollView>  
      <VerticalStackLayout Padding="20" Spacing="16">  
          <!-- 1) Avatar -->  
          <HorizontalStackLayout HorizontalOptions="Center">  
              <Border WidthRequest="100"  
                      HeightRequest="100"  
                      Stroke="{AppThemeBinding Light={StaticResource BorderColorLight}, Dark={StaticResource BorderColorDark}}"  
                      StrokeThickness="2"  
                      StrokeShape="RoundRectangle 50"  
                      BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundColorLight}, Dark={StaticResource BackgroundColorDark}}">  
                  <Image Source="{Binding ImagenOriginal}"  
                         Aspect="AspectFit"  
                         HorizontalOptions="Center"  
                         VerticalOptions="Center" />  
              </Border>  
          </HorizontalStackLayout>  

          <!-- 2) Nombre -->  
          <Label Text="Nombre"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevoNombre, Mode=TwoWay}"  
                 Placeholder="{Binding NombreOriginal}"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 3) Apellidos -->  
          <Label Text="Apellidos"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevosApellidos, Mode=TwoWay}"  
                 Placeholder="{Binding ApelliodosOrignales}"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 4) Usuario -->  
          <Label Text="Usuario"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevoUsername, Mode=TwoWay}"  
                 Placeholder="{Binding UsernameOriginal}"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 5) Correo electrónico -->  
          <Label Text="Correo electrónico"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevoEmail, Mode=TwoWay}"  
                 Placeholder="{Binding EmailOriginal}"  
                 Keyboard="Email"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 6) Fecha de nacimiento -->  
          <Label Text="Fecha de nacimiento"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Grid ColumnDefinitions="Auto,Auto">  
              <DatePicker Date="{Binding NuevaFechaNacimiento, Mode=TwoWay}" 
                          BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundColorLight},Dark={StaticResource BackgroundColorDark}}"  
                          TextColor="{StaticResource TextColor}"  
                          Grid.Column="0" />  
          </Grid>  

          <!-- 7) Dirección -->  
          <Label Text="Dirección"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Editor Text="{Binding NuevaDireccion, Mode=TwoWay}"  
                  Placeholder="{Binding DireccionOriginal}"  
                  Style="{StaticResource EntryStyle}"  
                  AutoSize="TextChanges" />  

          <!-- 8) Teléfono -->  
          <Label Text="Teléfono"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevoTelefono, Mode=TwoWay}"  
                 Placeholder="{Binding TelefonoOriginal}"  
                 Keyboard="Telephone"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 9) URL de nueva imagen (opcional) -->  
          <Label Text="URL de imagen (opcional)"  
                 Style="{StaticResource SubtitleLabelStyle}" />  
          <Entry Text="{Binding NuevaImagen, Mode=TwoWay}"  
                 Placeholder="https://..."  
                 Keyboard="Url"  
                 Style="{StaticResource EntryStyle}" />  

          <!-- 10) Botones “Cancelar” y “Guardar” -->  
          <Grid ColumnDefinitions="*,*" Padding="0,20,0,0">  
              <Button  
                  Text="Cancelar"  
                  Style="{StaticResource SecondaryButtonStyle}"  
                  Command="{Binding CancelarModificacionCommand}"  
                  Grid.Column="0" />  

              <Button  
                  Text="Guardar"  
                  Style="{StaticResource PrimaryButtonStyle}"  
                  Command="{Binding GuardarCambiosCommand}"  
                  Grid.Column="1" />  
          </Grid>  
      </VerticalStackLayout>  
  </ScrollView>  
</ContentPage>
