<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MarketingAppHJ.Cliente.ViewModels.CheckOutPageViewModel"
             x:Class="MarketingAppHJ.Cliente.Views.Aplicacion.CheckOutPage.CheckOutPage"
             Title="CheckOutPage">
    
    <ContentPage.BindingContext>
        <vm:CheckOutPageViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">

            <!-- Título -->
            <Label
        Text="Resumen de tu pedido"
        FontSize="20"
        FontAttributes="Bold" />

            <!-- Lista de ítems -->
            <CollectionView
        ItemsSource="{Binding Items}"
        SelectionMode="None"
        HeightRequest="200">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="*,Auto" Padding="5">
                            <Label Text="{Binding Nombre}" />
                            <Label
                Text="{Binding Total, StringFormat='{}{0:C}'}"
                Grid.Column="1" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Total general -->
            <Label
        Text="{Binding Total, StringFormat='Total: {0:C}'}"
        FontSize="18"
        FontAttributes="Bold"
        HorizontalOptions="End" />

            <!-- Dirección de envío -->
            <Label Text="Dirección de envío" />
            <Editor
        Text="{Binding DireccionEnvio}"
        HeightRequest="80" />

            <!-- Método de pago -->
            <Label Text="Método de pago" />
            <Picker SelectedItem="{Binding MetodoPago}">
                <Picker.Items>
                    <x:String>Tarjeta</x:String>
                    <x:String>PayPal</x:String>
                    <x:String>Contra Reembolso</x:String>
                </Picker.Items>
            </Picker>

            <!-- Botón de confirmación -->
            <Button
        Text="Confirmar Pedido"
        Command="{Binding RealizarPedidoCommand}"
        BackgroundColor="#757DF2"
        TextColor="White"
        CornerRadius="10"
        HeightRequest="50" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>