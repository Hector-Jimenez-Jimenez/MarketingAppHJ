<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MarketingAppHJ.Cliente.ViewModels.SettingsPageViewModel"
             xmlns:helpers="clr-namespace:MarketingAppHJ.Cliente.Helper"
             x:DataType="vm:SettingsPageViewModel"
             x:Class="MarketingAppHJ.Cliente.Views.Aplicacion.SettingsPage.SettingsPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundColorLight}, Dark={StaticResource BackgroundColorDark}}">

    <VerticalStackLayout Padding="20" Spacing="20">

        <!-- Encabezado -->
        <Label Text="{helpers:Translate Ajustes}"
               Style="{StaticResource TitleLabelStyle}"
               HorizontalOptions="Center" />

        <!-- Botón cambiar datos -->
        <Button Text="{helpers:Translate CambiarDatos}"
                Style="{StaticResource PrimaryButtonStyle}"
                Command="{Binding NavegarACambiarDatosCommand}" />

        <!-- Cambiar tema -->
        <Label Text="{helpers:Translate ModoAplicacion}"
               Style="{StaticResource SubtitleLabelStyle}" />
        <Picker SelectedIndexChanged="OnThemeChanged"
                SelectedIndex="{Binding TemaSeleccionadoIndex, Mode=TwoWay}">
            <Picker.Items>
                <x:String>Sistema</x:String>
                <x:String>Claro</x:String>
                <x:String>Oscuro</x:String>
            </Picker.Items>
        </Picker>

        <!-- Cambiar idioma -->
        <Label Text="{helpers:Translate Idioma}" Style="{StaticResource SubtitleLabelStyle}" />

        <Picker SelectedIndex="{Binding IdiomaSeleccionadoIndex, Mode=TwoWay}"
        SelectedIndexChanged="OnIdiomaChanged">
            <Picker.ItemsSource>
                <x:Array Type="{x:Type x:String}">
                    <x:String>Español</x:String>
                    <x:String>English</x:String>
                </x:Array>
            </Picker.ItemsSource>
        </Picker>

        <!-- Cerrar sesión -->
        <Button Text="{helpers:Translate CerrarSesion}"
                Style="{StaticResource SecondaryButtonStyle}"
                Command="{Binding CerrarSesionCommand}" />
        <Button Text="{helpers:Translate Administrar}" 
                Style="{StaticResource PrimaryButtonStyle}" 
                Command="{Binding IrAPaginaAdminCommand}"
                IsVisible="{Binding EsAdmin}" />
        <Button Text="{helpers:Translate BtnVolver}"
                Style="{StaticResource TertiaryButtonStyle}"
                Clicked="OnVolverClicked" />

    </VerticalStackLayout>
</ContentPage>
